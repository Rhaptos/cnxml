<?xml version="1.0"?>
<grammar xmlns="http://relaxng.org/ns/structure/1.0" ns="http://cnx.rice.edu/cnxml">
  <start>
    <choice>
      <ref name="document"/>
      <ref name="para"/>
      <ref name="title"/>
      <ref name="bulleted-block-list"/>
      <ref name="enumerated-block-list"/>
      <ref name="labeled-item-block-list"/>
      <ref name="bulleted-inline-list"/>
      <ref name="enumerated-inline-list"/>
      <ref name="labeled-item-inline-list"/>
      <ref name="equation"/>
      <ref name="exercise"/>
      <ref name="figure"/>
      <ref name="inline-code"/>
      <ref name="block-code"/>
      <ref name="block-note"/>
      <ref name="inline-note"/>
      <ref name="example"/>
      <ref name="table"/>
      <ref name="bulleted-block-list"/>
      <ref name="enumerated-block-list"/>
      <ref name="labeled-item-block-list"/>
      <ref name="bulleted-inline-list"/>
      <ref name="enumerated-inline-list"/>
      <ref name="labeled-item-inline-list"/>
      <ref name="section"/>
      <ref name="rule"/>
      <ref name="definition"/>
      <ref name="metadata"/>
    </choice>
  </start>
  <!--starting cnxml-abstract-defs.rng-->
  <!--included elements-->
  <define name="cnxml-abstract-para">
    <element name="para">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="cnxml-abstract-emphasis"/>
          <ref name="cnxml-abstract-term"/>
          <ref name="cnxml-abstract-foreign"/>
          <ref name="cnxml-abstract-cite"/>
          <ref name="cnxml-abstract-span"/>
          <ref name="cnxml-abstract-sup"/>
          <ref name="cnxml-abstract-sub"/>
          <ref name="cnxml-abstract-code"/>
          <notAllowed/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <text/>
          <ref name="cnxml-abstract-quote"/>
          <ref name="cnxml-abstract-preformat"/>
          <ref name="cnxml-abstract-list"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="cnxml-abstract-emphasis">
    <element name="emphasis">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="cnxml-abstract-emphasis"/>
          <ref name="cnxml-abstract-term"/>
          <ref name="cnxml-abstract-foreign"/>
          <ref name="cnxml-abstract-cite"/>
          <ref name="cnxml-abstract-span"/>
          <ref name="cnxml-abstract-sup"/>
          <ref name="cnxml-abstract-sub"/>
          <ref name="cnxml-abstract-code"/>
          <notAllowed/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <text/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="cnxml-abstract-term">
    <element name="term">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="cnxml-abstract-emphasis"/>
          <ref name="cnxml-abstract-term"/>
          <ref name="cnxml-abstract-foreign"/>
          <ref name="cnxml-abstract-cite"/>
          <ref name="cnxml-abstract-span"/>
          <ref name="cnxml-abstract-sup"/>
          <ref name="cnxml-abstract-sub"/>
          <ref name="cnxml-abstract-code"/>
          <notAllowed/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <text/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="cnxml-abstract-foreign">
    <element name="foreign">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="cnxml-abstract-emphasis"/>
          <ref name="cnxml-abstract-term"/>
          <ref name="cnxml-abstract-foreign"/>
          <ref name="cnxml-abstract-cite"/>
          <ref name="cnxml-abstract-span"/>
          <ref name="cnxml-abstract-sup"/>
          <ref name="cnxml-abstract-sub"/>
          <ref name="cnxml-abstract-code"/>
          <notAllowed/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <text/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="cnxml-abstract-cite">
    <element name="cite">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="cnxml-abstract-emphasis"/>
          <ref name="cnxml-abstract-term"/>
          <ref name="cnxml-abstract-foreign"/>
          <ref name="cnxml-abstract-cite"/>
          <ref name="cnxml-abstract-span"/>
          <ref name="cnxml-abstract-sup"/>
          <ref name="cnxml-abstract-sub"/>
          <ref name="cnxml-abstract-code"/>
          <notAllowed/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <text/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="cnxml-abstract-span">
    <element name="span">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="cnxml-abstract-emphasis"/>
          <ref name="cnxml-abstract-term"/>
          <ref name="cnxml-abstract-foreign"/>
          <ref name="cnxml-abstract-cite"/>
          <ref name="cnxml-abstract-span"/>
          <ref name="cnxml-abstract-sup"/>
          <ref name="cnxml-abstract-sub"/>
          <ref name="cnxml-abstract-code"/>
          <notAllowed/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <text/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="cnxml-abstract-sup">
    <element name="sup">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="cnxml-abstract-emphasis"/>
          <ref name="cnxml-abstract-term"/>
          <ref name="cnxml-abstract-foreign"/>
          <ref name="cnxml-abstract-cite"/>
          <ref name="cnxml-abstract-span"/>
          <ref name="cnxml-abstract-sup"/>
          <ref name="cnxml-abstract-sub"/>
          <ref name="cnxml-abstract-code"/>
          <notAllowed/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <text/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="cnxml-abstract-sub">
    <element name="sub">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="cnxml-abstract-emphasis"/>
          <ref name="cnxml-abstract-term"/>
          <ref name="cnxml-abstract-foreign"/>
          <ref name="cnxml-abstract-cite"/>
          <ref name="cnxml-abstract-span"/>
          <ref name="cnxml-abstract-sup"/>
          <ref name="cnxml-abstract-sub"/>
          <ref name="cnxml-abstract-code"/>
          <notAllowed/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <text/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="cnxml-abstract-code">
    <element name="code">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <choice>
          <attribute name="display">
            <choice>
              <value>block</value>
              <value>none</value>
            </choice>
          </attribute>
          <attribute name="display">
            <choice>
              <value>inline</value>
              <value>none</value>
            </choice>
          </attribute>
          <attribute name="display">
            <value>none</value>
          </attribute>
        </choice>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="cnxml-abstract-emphasis"/>
          <ref name="cnxml-abstract-term"/>
          <ref name="cnxml-abstract-foreign"/>
          <ref name="cnxml-abstract-cite"/>
          <ref name="cnxml-abstract-span"/>
          <ref name="cnxml-abstract-sup"/>
          <ref name="cnxml-abstract-sub"/>
          <ref name="cnxml-abstract-code"/>
          <notAllowed/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <text/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="cnxml-abstract-quote">
    <element name="quote">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <choice>
          <attribute name="display">
            <choice>
              <value>block</value>
              <value>none</value>
            </choice>
          </attribute>
          <attribute name="display">
            <choice>
              <value>inline</value>
              <value>none</value>
            </choice>
          </attribute>
          <attribute name="display">
            <value>none</value>
          </attribute>
        </choice>
      </optional>
      <choice>
        <oneOrMore>
          <choice>
            <ref name="cnxml-abstract-para"/>
            <ref name="cnxml-abstract-quote"/>
            <ref name="cnxml-abstract-preformat"/>
            <ref name="cnxml-abstract-list"/>
          </choice>
        </oneOrMore>
        <oneOrMore>
          <choice>
            <ref name="cnxml-abstract-emphasis"/>
            <ref name="cnxml-abstract-term"/>
            <ref name="cnxml-abstract-foreign"/>
            <ref name="cnxml-abstract-cite"/>
            <ref name="cnxml-abstract-span"/>
            <ref name="cnxml-abstract-sup"/>
            <ref name="cnxml-abstract-sub"/>
            <ref name="cnxml-abstract-code"/>
            <notAllowed/>
            <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
            <text/>
            <ref name="cnxml-abstract-quote"/>
            <ref name="cnxml-abstract-preformat"/>
            <ref name="cnxml-abstract-list"/>
          </choice>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="cnxml-abstract-preformat">
    <element name="preformat">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <choice>
          <attribute name="display">
            <choice>
              <value>block</value>
              <value>none</value>
            </choice>
          </attribute>
          <attribute name="display">
            <choice>
              <value>inline</value>
              <value>none</value>
            </choice>
          </attribute>
          <attribute name="display">
            <value>none</value>
          </attribute>
        </choice>
      </optional>
      <choice>
        <oneOrMore>
          <choice>
            <ref name="cnxml-abstract-para"/>
            <ref name="cnxml-abstract-quote"/>
            <ref name="cnxml-abstract-preformat"/>
            <ref name="cnxml-abstract-list"/>
          </choice>
        </oneOrMore>
        <oneOrMore>
          <choice>
            <ref name="cnxml-abstract-emphasis"/>
            <ref name="cnxml-abstract-term"/>
            <ref name="cnxml-abstract-foreign"/>
            <ref name="cnxml-abstract-cite"/>
            <ref name="cnxml-abstract-span"/>
            <ref name="cnxml-abstract-sup"/>
            <ref name="cnxml-abstract-sub"/>
            <ref name="cnxml-abstract-code"/>
            <notAllowed/>
            <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
            <text/>
            <ref name="cnxml-abstract-quote"/>
            <ref name="cnxml-abstract-preformat"/>
            <ref name="cnxml-abstract-list"/>
          </choice>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="cnxml-abstract-list">
    <element name="list">
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="list-type" a:defaultValue="bulleted">
          <choice>
            <value>bulleted</value>
            <value>enumerated</value>
            <value>labeled-item</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <choice>
          <attribute name="display">
            <choice>
              <value>block</value>
              <value>none</value>
            </choice>
          </attribute>
          <attribute name="display">
            <choice>
              <value>inline</value>
              <value>none</value>
            </choice>
          </attribute>
          <attribute name="display">
            <value>none</value>
          </attribute>
        </choice>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <ref name="cnxml-abstract-item"/>
      </oneOrMore>
    </element>
  </define>
  <define name="cnxml-abstract-item">
    <element name="item">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="cnxml-abstract-emphasis"/>
          <ref name="cnxml-abstract-term"/>
          <ref name="cnxml-abstract-foreign"/>
          <ref name="cnxml-abstract-cite"/>
          <ref name="cnxml-abstract-span"/>
          <ref name="cnxml-abstract-sup"/>
          <ref name="cnxml-abstract-sub"/>
          <ref name="cnxml-abstract-code"/>
          <notAllowed/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <text/>
          <ref name="cnxml-abstract-quote"/>
          <ref name="cnxml-abstract-preformat"/>
          <ref name="cnxml-abstract-list"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <!--the rest-->
  <!--ending cnxml-abstract-defs.rng-->
  <!--starting file:///usr/share/xml/mdml/schema/rng/0.5/mdml-defs.rng-->
  <!--included elements-->
  <define name="mdml-content-id">
    <element name="content-id">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <data type="NMTOKEN"/>
    </element>
  </define>
  <define name="mdml-repository">
    <element name="repository">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-content-url">
    <element name="content-url">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-title">
    <element name="title">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-version">
    <element name="version">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-short-title">
    <element name="short-title">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-subtitle">
    <element name="subtitle">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-created">
    <element name="created">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-revised">
    <element name="revised">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-homepage">
    <element name="homepage">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-actors">
    <element name="actors">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="mdml-person"/>
          <ref name="mdml-organization"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="mdml-person">
    <element name="person">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="userid"/>
      </optional>
      <interleave>
        <optional>
          <ref name="mdml-honorific"/>
        </optional>
        <ref name="mdml-firstname"/>
        <optional>
          <ref name="mdml-othername"/>
        </optional>
        <ref name="mdml-surname"/>
        <optional>
          <ref name="mdml-lineage"/>
        </optional>
        <ref name="mdml-fullname"/>
        <optional>
          <ref name="mdml-email"/>
        </optional>
        <optional>
          <ref name="mdml-homepage"/>
        </optional>
      </interleave>
    </element>
  </define>
  <define name="mdml-organization">
    <element name="organization">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="userid"/>
      </optional>
      <interleave>
        <ref name="mdml-fullname"/>
        <ref name="mdml-shortname"/>
        <optional>
          <ref name="mdml-email"/>
        </optional>
        <optional>
          <ref name="mdml-homepage"/>
        </optional>
      </interleave>
    </element>
  </define>
  <define name="mdml-shortname">
    <element name="shortname">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-roles">
    <element name="roles">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <ref name="mdml-role"/>
      </oneOrMore>
    </element>
  </define>
  <define name="mdml-role">
    <element name="role">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="type"/>
      <text/>
    </element>
  </define>
  <define name="mdml-honorific">
    <element name="honorific">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-firstname">
    <element name="firstname">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-othername">
    <element name="othername">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-surname">
    <element name="surname">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-lineage">
    <element name="lineage">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-fullname">
    <element name="fullname">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-email">
    <element name="email">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-license">
    <element name="license">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="url"/>
      <text/>
    </element>
  </define>
  <define name="mdml-keywordlist">
    <element name="keywordlist">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <ref name="mdml-keyword"/>
      </oneOrMore>
    </element>
  </define>
  <define name="mdml-keyword">
    <element name="keyword">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-subjectlist">
    <element name="subjectlist">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <ref name="mdml-subject"/>
      </oneOrMore>
    </element>
  </define>
  <define name="mdml-subject">
    <element name="subject">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="source"/>
      </optional>
      <optional>
        <attribute name="key"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-education-levellist">
    <element name="education-levellist">
      <oneOrMore>
        <ref name="mdml-education-level"/>
      </oneOrMore>
    </element>
  </define>
  <define name="mdml-education-level">
    <element name="education-level">
      <optional>
        <attribute name="source"/>
      </optional>
      <optional>
        <attribute name="key"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-col-homepage">
    <element name="homepage">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-institution">
    <element name="institution">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-course-code">
    <element name="course-code">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-instructor">
    <element name="instructor">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-version-history">
    <element name="version-history">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="url"/>
    </element>
  </define>
  <define name="mdml-ancillary">
    <element name="ancillary">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="url"/>
    </element>
  </define>
  <define name="mdml-abstract">
    <element name="abstract">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <choice>
        <oneOrMore>
          <choice>
            <ref name="cnxml-abstract-para"/>
            <ref name="cnxml-abstract-quote"/>
            <ref name="cnxml-abstract-preformat"/>
            <ref name="cnxml-abstract-list"/>
          </choice>
        </oneOrMore>
        <oneOrMore>
          <choice>
            <ref name="cnxml-abstract-emphasis"/>
            <ref name="cnxml-abstract-term"/>
            <ref name="cnxml-abstract-foreign"/>
            <ref name="cnxml-abstract-cite"/>
            <ref name="cnxml-abstract-span"/>
            <ref name="cnxml-abstract-sup"/>
            <ref name="cnxml-abstract-sub"/>
            <ref name="cnxml-abstract-code"/>
            <notAllowed/>
            <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
            <text/>
            <ref name="cnxml-abstract-quote"/>
            <ref name="cnxml-abstract-preformat"/>
            <ref name="cnxml-abstract-list"/>
          </choice>
        </oneOrMore>
      </choice>
    </element>
  </define>
  <define name="mdml-language">
    <element name="language">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <define name="mdml-objectives">
    <element name="objectives">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <text/>
    </element>
  </define>
  <!--the rest-->
  <define name="mdml-extended-attribution">
    <element name="extended-attribution" ns="http://cnx.rice.edu/mdml">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <ref name="link-group"/>
      </oneOrMore>
    </element>
  </define>
  <define name="mdml-derived-from">
    <element name="derived-from" ns="http://cnx.rice.edu/mdml">
      <choice>
        <attribute name="url"/>
        <group>
          <attribute name="document"/>
          <optional>
            <attribute name="version"/>
          </optional>
          <optional>
            <attribute name="repository"/>
          </optional>
        </group>
      </choice>
      <zeroOrMore>
        <ref name="mdml-derived-from"/>
      </zeroOrMore>
    </element>
  </define>
  <!--ending file:///usr/share/xml/mdml/schema/rng/0.5/mdml-defs.rng-->
  <!--starting file:///usr/share/xml/qml/schema/rng/1.0/qml-defs.rng-->
  <!--included elements-->
  <define name="qml.problemset">
    <element name="problemset">
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <oneOrMore>
        <ref name="qml.item"/>
      </oneOrMore>
    </element>
  </define>
  <define name="qml.item">
    <element name="item">
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <attribute name="type">
        <choice>
          <value>single-response</value>
          <value>multiple-response</value>
          <value>text-response</value>
          <value>ordered-response</value>
        </choice>
      </attribute>
      <ref name="qml.question"/>
      <zeroOrMore>
        <ref name="qml.resource"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="qml.answer"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="qml.hint"/>
      </zeroOrMore>
      <optional>
        <ref name="qml.feedback"/>
      </optional>
      <optional>
        <ref name="qml.key"/>
      </optional>
    </element>
  </define>
  <define name="qml.question">
    <element name="question">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="section"/>
          <ref name="block-media"/>
          <ref name="inline-media"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="qml.resource">
    <element name="resource">
      <attribute name="uri"/>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
    </element>
  </define>
  <define name="qml.answer">
    <element name="answer">
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <ref name="qml.response"/>
      </optional>
      <optional>
        <ref name="qml.feedback"/>
        <optional>
          <ref name="qml.feedback"/>
        </optional>
      </optional>
    </element>
  </define>
  <define name="qml.response">
    <element name="response">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="section"/>
          <ref name="block-media"/>
          <ref name="inline-media"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="qml.feedback">
    <element name="feedback">
      <optional>
        <attribute name="correct">
          <choice>
            <value>yes</value>
            <value>no</value>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="section"/>
          <ref name="block-media"/>
          <ref name="inline-media"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="qml.hint">
    <element name="hint">
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="section"/>
          <ref name="block-media"/>
          <ref name="inline-media"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="qml.key">
    <element name="key">
      <optional>
        <attribute name="answer">
          <text/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <ref name="section"/>
          <ref name="block-media"/>
          <ref name="inline-media"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <!--the rest-->
  <!--ending file:///usr/share/xml/qml/schema/rng/1.0/qml-defs.rng-->
  <!--starting cnxml-defs.rng-->
  <!--included elements-->
  <!--
    Attribute Definitions
-->
  <!-- We enumerate supported values, but any text values are accepted. -->
  <!-- May be revised to have values of 1-5 -->
  <!-- Attributes pattern for 'link' element.  Require at least one 
       attribute that points to a link target: either @url, or at 
       least one of the old cnxn-style linking attributes (@document, 
       @targetid, or @resource).  It takes a little effort to make 
       this pattern unambiguous.  -->
  <!-- For linking elements other than 'link'.  Here we can afford to 
       make each attribute optional, so no problems with ambiguity.  -->
  <!--
    Content Classes
-->
  <!--
    Shared Content Models
-->
  <!--
    Element Definitions
-->
  <define name="anyElement">
    <element>
      <anyName/>
      <zeroOrMore>
        <choice>
          <attribute>
            <anyName/>
          </attribute>
          <text/>
          <ref name="anyElement"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="document">
    <element name="document">
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <!-- Rename this object-id -->
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <ref name="document-title"/>
      <attribute name="cnxml-version">
        <value>0.7</value>
      </attribute>
      <attribute name="module-id"/>
      <optional>
        <ref name="metadata"/>
      </optional>
      <optional>
        <ref name="featured-links"/>
      </optional>
      <ref name="content"/>
      <optional>
        <ref name="glossary"/>
      </optional>
      <optional>
        <externalRef href="file:///usr/share/xml/bibtexml/schema/rng/1.0/bibtexml.rng"/>
      </optional>
    </element>
  </define>
  <define name="metadata">
    <element name="metadata">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <interleave>
        <empty/>
        <attribute name="mdml-version">
          <value>0.5</value>
        </attribute>
      </interleave>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <interleave>
        <ref name="mdml-content-id"/>
        <ref name="mdml-repository"/>
        <ref name="mdml-content-url"/>
        <ref name="mdml-title"/>
        <optional>
          <ref name="mdml-short-title"/>
        </optional>
        <optional>
          <ref name="mdml-subtitle"/>
        </optional>
        <ref name="mdml-version"/>
        <ref name="mdml-created"/>
        <ref name="mdml-revised"/>
        <ref name="mdml-actors"/>
        <ref name="mdml-roles"/>
        <ref name="mdml-license"/>
        <optional>
          <ref name="mdml-extended-attribution"/>
        </optional>
        <zeroOrMore>
          <ref name="mdml-derived-from"/>
        </zeroOrMore>
        <optional>
          <ref name="mdml-keywordlist"/>
        </optional>
        <optional>
          <ref name="mdml-subjectlist"/>
        </optional>
        <optional>
          <ref name="mdml-education-levellist"/>
        </optional>
        <optional>
          <ref name="mdml-abstract"/>
        </optional>
        <ref name="mdml-language"/>
        <optional>
          <ref name="mdml-objectives"/>
        </optional>
        <optional>
          <ref name="mdml-col-homepage"/>
        </optional>
        <optional>
          <ref name="mdml-institution"/>
        </optional>
        <optional>
          <ref name="mdml-course-code"/>
        </optional>
        <optional>
          <ref name="mdml-instructor"/>
        </optional>
      </interleave>
    </element>
  </define>
  <define name="featured-links">
    <element name="featured-links">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <oneOrMore>
        <ref name="link-group"/>
      </oneOrMore>
    </element>
  </define>
  <define name="link-group">
    <element name="link-group">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <attribute name="type">
        <choice>
          <value>prerequisite</value>
          <value>example</value>
          <value>supplemental</value>
          <text/>
        </choice>
      </attribute>
      <optional>
        <ref name="label"/>
      </optional>
      <oneOrMore>
        <ref name="link"/>
      </oneOrMore>
    </element>
  </define>
  <define name="content">
    <element name="content">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <choice>
        <oneOrMore>
          <choice>
            <ref name="section"/>
            <ref name="div"/>
            <ref name="definition"/>
            <ref name="example"/>
            <ref name="figure"/>
            <ref name="block-code"/>
            <ref name="block-preformat"/>
            <ref name="block-quote"/>
            <ref name="block-note"/>
            <ref name="block-media"/>
            <ref name="bulleted-block-list"/>
            <ref name="enumerated-block-list"/>
            <ref name="labeled-item-block-list"/>
            <ref name="table"/>
            <ref name="rule"/>
            <ref name="equation"/>
            <ref name="exercise"/>
            <ref name="para"/>
          </choice>
        </oneOrMore>
        <ref name="qml.problemset"/>
      </choice>
    </element>
  </define>
  <define name="glossary">
    <element name="glossary">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <oneOrMore>
        <ref name="definition"/>
      </oneOrMore>
    </element>
  </define>
  <define name="section">
    <element name="section">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="section"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
          <ref name="para"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="div">
    <element name="div">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="para"/>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="block-preformat">
    <element name="preformat">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="display" a:defaultValue="block">
          <choice>
            <value>block</value>
            <value>none</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="para"/>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="inline-preformat">
    <element name="preformat">
      <attribute name="display">
        <choice>
          <value>inline</value>
          <value>none</value>
        </choice>
      </attribute>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="para">
    <element name="para">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="title">
    <element name="title">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="document-title">
    <element name="title">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <text/>
    </element>
  </define>
  <define name="label">
    <element name="label">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="newline">
    <element name="newline">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="count" a:defaultValue="1">
          <data type="integer">
            <param name="minInclusive">1</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="effect">
          <choice>
            <value>bold</value>
            <value>italics</value>
            <value>underline</value>
            <value>normal</value>
            <value>smallcaps</value>
            <data type="NMTOKEN"/>
          </choice>
        </attribute>
      </optional>
    </element>
  </define>
  <define name="space">
    <element name="space">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="count" a:defaultValue="1">
          <data type="integer">
            <param name="minInclusive">1</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="effect">
          <choice>
            <value>bold</value>
            <value>italics</value>
            <value>underline</value>
            <value>normal</value>
            <value>smallcaps</value>
            <data type="NMTOKEN"/>
          </choice>
        </attribute>
      </optional>
    </element>
  </define>
  <define name="span">
    <element name="span">
      <optional>
        <attribute name="effect">
          <choice>
            <value>bold</value>
            <value>italics</value>
            <value>underline</value>
            <value>normal</value>
            <value>smallcaps</value>
            <data type="NMTOKEN"/>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="cite">
    <element name="cite">
      <group>
        <optional>
          <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="window" a:defaultValue="replace">
            <choice>
              <value>replace</value>
              <value>new</value>
            </choice>
          </attribute>
        </optional>
        <choice>
          <optional>
            <attribute name="url"/>
          </optional>
          <group>
            <optional>
              <attribute name="document"/>
            </optional>
            <optional>
              <attribute name="version"/>
            </optional>
            <optional>
              <choice>
                <attribute name="target-id"/>
                <attribute name="resource"/>
              </choice>
            </optional>
          </group>
        </choice>
      </group>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="cite-title">
    <element name="cite-title">
      <optional>
        <attribute name="pub-type">
          <choice>
            <value>article</value>
            <value>book</value>
            <value>booklet</value>
            <value>conference</value>
            <value>inbook</value>
            <value>incollection</value>
            <value>inproceedings</value>
            <value>manual</value>
            <value>mastersthesis</value>
            <value>misc</value>
            <value>phdthesis</value>
            <value>proceedings</value>
            <value>techreport</value>
            <value>unpublished</value>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="link">
    <element name="link">
      <group>
        <optional>
          <attribute name="strength">
            <choice>
              <value>1</value>
              <value>2</value>
              <value>3</value>
            </choice>
          </attribute>
        </optional>
        <optional>
          <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="window" a:defaultValue="replace">
            <choice>
              <value>replace</value>
              <value>new</value>
            </choice>
          </attribute>
        </optional>
        <choice>
          <attribute name="url"/>
          <group>
            <attribute name="document"/>
            <attribute name="version"/>
            <optional>
              <choice>
                <attribute name="target-id"/>
                <attribute name="resource"/>
              </choice>
            </optional>
          </group>
          <group>
            <attribute name="document"/>
            <optional>
              <choice>
                <attribute name="target-id"/>
                <attribute name="resource"/>
              </choice>
            </optional>
          </group>
          <group>
            <attribute name="version"/>
            <optional>
              <choice>
                <attribute name="target-id"/>
                <attribute name="resource"/>
              </choice>
            </optional>
          </group>
          <group>
            <choice>
              <attribute name="target-id"/>
              <attribute name="resource"/>
            </choice>
          </group>
        </choice>
      </group>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="emphasis">
    <element name="emphasis">
      <optional>
        <attribute name="effect">
          <choice>
            <value>bold</value>
            <value>italics</value>
            <value>underline</value>
            <value>normal</value>
            <value>smallcaps</value>
            <data type="NMTOKEN"/>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="term">
    <element name="term">
      <group>
        <optional>
          <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="window" a:defaultValue="replace">
            <choice>
              <value>replace</value>
              <value>new</value>
            </choice>
          </attribute>
        </optional>
        <choice>
          <optional>
            <attribute name="url"/>
          </optional>
          <group>
            <optional>
              <attribute name="document"/>
            </optional>
            <optional>
              <attribute name="version"/>
            </optional>
            <optional>
              <choice>
                <attribute name="target-id"/>
                <attribute name="resource"/>
              </choice>
            </optional>
          </group>
        </choice>
      </group>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="sub">
    <element name="sub">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="sup">
    <element name="sup">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="block-quote">
    <element name="quote">
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="display" a:defaultValue="block">
          <choice>
            <value>block</value>
            <value>none</value>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="type"/>
      </optional>
      <group>
        <optional>
          <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="window" a:defaultValue="replace">
            <choice>
              <value>replace</value>
              <value>new</value>
            </choice>
          </attribute>
        </optional>
        <choice>
          <optional>
            <attribute name="url"/>
          </optional>
          <group>
            <optional>
              <attribute name="document"/>
            </optional>
            <optional>
              <attribute name="version"/>
            </optional>
            <optional>
              <choice>
                <attribute name="target-id"/>
                <attribute name="resource"/>
              </choice>
            </optional>
          </group>
        </choice>
      </group>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="para"/>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="inline-quote">
    <element name="quote">
      <attribute name="display">
        <choice>
          <value>inline</value>
          <value>none</value>
        </choice>
      </attribute>
      <group>
        <optional>
          <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="window" a:defaultValue="replace">
            <choice>
              <value>replace</value>
              <value>new</value>
            </choice>
          </attribute>
        </optional>
        <choice>
          <optional>
            <attribute name="url"/>
          </optional>
          <group>
            <optional>
              <attribute name="document"/>
            </optional>
            <optional>
              <attribute name="version"/>
            </optional>
            <optional>
              <choice>
                <attribute name="target-id"/>
                <attribute name="resource"/>
              </choice>
            </optional>
          </group>
        </choice>
      </group>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="foreign">
    <element name="foreign">
      <group>
        <optional>
          <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="window" a:defaultValue="replace">
            <choice>
              <value>replace</value>
              <value>new</value>
            </choice>
          </attribute>
        </optional>
        <choice>
          <optional>
            <attribute name="url"/>
          </optional>
          <group>
            <optional>
              <attribute name="document"/>
            </optional>
            <optional>
              <attribute name="version"/>
            </optional>
            <optional>
              <choice>
                <attribute name="target-id"/>
                <attribute name="resource"/>
              </choice>
            </optional>
          </group>
        </choice>
      </group>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="footnote">
    <element name="footnote">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="para"/>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <!-- FIXME: Do we want to continue to permit 'media' or text in 'equation'? -->
  <define name="equation">
    <element name="equation">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <choice>
        <ref name="block-media"/>
        <ref name="inline-media"/>
        <text/>
        <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
      </choice>
    </element>
  </define>
  <define name="block-note">
    <element name="note">
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="display" a:defaultValue="block">
          <choice>
            <value>block</value>
            <value>none</value>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="type" a:defaultValue="note">
          <choice>
            <value>note</value>
            <value>aside</value>
            <value>warning</value>
            <value>tip</value>
            <value>important</value>
            <data type="token">
              <except>
                <data type="token">
                  <param name="pattern">[fF][oO][oO][tT][nN][oO][tT][eE]</param>
                </data>
              </except>
            </data>
          </choice>
        </attribute>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="para"/>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="inline-note">
    <element name="note">
      <attribute name="display">
        <choice>
          <value>inline</value>
          <value>none</value>
        </choice>
      </attribute>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="type" a:defaultValue="note">
          <choice>
            <value>note</value>
            <value>aside</value>
            <value>warning</value>
            <value>tip</value>
            <value>important</value>
            <data type="token">
              <except>
                <data type="token">
                  <param name="pattern">[fF][oO][oO][tT][nN][oO][tT][eE]</param>
                </data>
              </except>
            </data>
          </choice>
        </attribute>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="bulleted-block-list">
    <element name="list">
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="list-type" a:defaultValue="bulleted">
          <value>bulleted</value>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="mark-suffix" a:defaultValue=""/>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="bullet-style" a:defaultValue="bullet">
          <choice>
            <value>bullet</value>
            <value>open-circle</value>
            <value>pilcrow</value>
            <value>rpilcrow</value>
            <value>asterisk</value>
            <value>dash</value>
            <value>section</value>
            <value>none</value>
            <text/>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="mark-prefix"/>
      </optional>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="display" a:defaultValue="block">
          <choice>
            <value>block</value>
            <value>none</value>
          </choice>
        </attribute>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="item-sep"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <ref name="block-list-item"/>
      </oneOrMore>
    </element>
  </define>
  <define name="bulleted-inline-list">
    <element name="list">
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="list-type" a:defaultValue="bulleted">
          <value>bulleted</value>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="mark-suffix" a:defaultValue=""/>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="bullet-style" a:defaultValue="bullet">
          <choice>
            <value>bullet</value>
            <value>open-circle</value>
            <value>pilcrow</value>
            <value>rpilcrow</value>
            <value>asterisk</value>
            <value>dash</value>
            <value>section</value>
            <value>none</value>
            <text/>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="mark-prefix"/>
      </optional>
      <optional>
        <attribute name="type"/>
      </optional>
      <attribute name="display">
        <choice>
          <value>inline</value>
          <value>none</value>
        </choice>
      </attribute>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="item-sep" a:defaultValue=";"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <ref name="inline-list-item"/>
      </oneOrMore>
    </element>
  </define>
  <define name="enumerated-block-list">
    <element name="list">
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="mark-suffix" a:defaultValue="."/>
      </optional>
      <attribute name="list-type">
        <value>enumerated</value>
      </attribute>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="number-style" a:defaultValue="arabic">
          <choice>
            <value>arabic</value>
            <value>upper-alpha</value>
            <value>lower-alpha</value>
            <value>upper-roman</value>
            <value>lower-roman</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="start-value" a:defaultValue="1">
          <data type="integer">
            <param name="minInclusive">1</param>
          </data>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="mark-prefix"/>
      </optional>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="display" a:defaultValue="block">
          <choice>
            <value>block</value>
            <value>none</value>
          </choice>
        </attribute>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="item-sep"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <ref name="block-list-item"/>
      </oneOrMore>
    </element>
  </define>
  <define name="enumerated-inline-list">
    <element name="list">
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="mark-suffix" a:defaultValue="."/>
      </optional>
      <attribute name="list-type">
        <value>enumerated</value>
      </attribute>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="number-style" a:defaultValue="arabic">
          <choice>
            <value>arabic</value>
            <value>upper-alpha</value>
            <value>lower-alpha</value>
            <value>upper-roman</value>
            <value>lower-roman</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="start-value" a:defaultValue="1">
          <data type="integer">
            <param name="minInclusive">1</param>
          </data>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="mark-prefix"/>
      </optional>
      <optional>
        <attribute name="type"/>
      </optional>
      <attribute name="display">
        <choice>
          <value>inline</value>
          <value>none</value>
        </choice>
      </attribute>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="item-sep" a:defaultValue=";"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <ref name="inline-list-item"/>
      </oneOrMore>
    </element>
  </define>
  <define name="labeled-item-block-list">
    <element name="list">
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="mark-suffix" a:defaultValue=":"/>
      </optional>
      <attribute name="list-type">
        <value>labeled-item</value>
      </attribute>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="mark-prefix"/>
      </optional>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="display" a:defaultValue="block">
          <choice>
            <value>block</value>
            <value>none</value>
          </choice>
        </attribute>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="item-sep"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <ref name="block-list-item"/>
      </oneOrMore>
    </element>
  </define>
  <define name="labeled-item-inline-list">
    <element name="list">
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="mark-suffix" a:defaultValue=":"/>
      </optional>
      <attribute name="list-type">
        <value>labeled-item</value>
      </attribute>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="mark-prefix"/>
      </optional>
      <optional>
        <attribute name="type"/>
      </optional>
      <attribute name="display">
        <choice>
          <value>inline</value>
          <value>none</value>
        </choice>
      </attribute>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="item-sep" a:defaultValue=";"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <ref name="inline-list-item"/>
      </oneOrMore>
    </element>
  </define>
  <define name="block-list-item">
    <element name="item">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <zeroOrMore>
        <choice>
          <ref name="para"/>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="inline-list-item">
    <element name="item">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="inline-code">
    <element name="code">
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="display" a:defaultValue="inline">
          <choice>
            <value>inline</value>
            <value>none</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute name="lang"/>
      </optional>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <oneOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="block-code">
    <element name="code">
      <attribute name="display">
        <choice>
          <value>block</value>
          <value>none</value>
        </choice>
      </attribute>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="lang"/>
      </optional>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </oneOrMore>
      <optional>
        <ref name="caption"/>
      </optional>
    </element>
  </define>
  <!-- NOTE: I have removed 'table' and 'code' as possible content for 
     'figure', but this decision can be revisited. -->
  <define name="figure">
    <element name="figure">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="orient" a:defaultValue="horizontal">
          <choice>
            <value>horizontal</value>
            <value>vertical</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <choice>
        <ref name="block-media"/>
        <ref name="inline-media"/>
        <ref name="table"/>
        <ref name="inline-code"/>
        <ref name="block-code"/>
        <group>
          <ref name="subfigure"/>
          <oneOrMore>
            <ref name="subfigure"/>
          </oneOrMore>
        </group>
      </choice>
      <optional>
        <ref name="caption"/>
      </optional>
    </element>
  </define>
  <define name="subfigure">
    <element name="subfigure">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <choice>
        <ref name="block-media"/>
        <ref name="inline-media"/>
        <ref name="table"/>
        <ref name="inline-code"/>
        <ref name="block-code"/>
      </choice>
      <optional>
        <ref name="caption"/>
      </optional>
    </element>
  </define>
  <define name="caption">
    <element name="caption">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="inline-media">
    <element name="media">
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="display" a:defaultValue="inline">
          <choice>
            <value>inline</value>
            <value>none</value>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <attribute name="alt"/>
      <optional>
        <choice>
          <attribute name="longdesc"/>
          <ref name="longdesc-element"/>
        </choice>
      </optional>
      <choice>
        <ref name="object"/>
        <ref name="image"/>
        <ref name="audio"/>
        <ref name="video"/>
        <ref name="java-applet"/>
        <ref name="flash"/>
        <ref name="labview"/>
        <ref name="text"/>
        <ref name="download"/>
      </choice>
      <zeroOrMore>
        <choice>
          <ref name="object"/>
          <ref name="image"/>
          <ref name="audio"/>
          <ref name="video"/>
          <ref name="java-applet"/>
          <ref name="flash"/>
          <ref name="labview"/>
          <ref name="text"/>
          <ref name="download"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="block-media">
    <element name="media">
      <attribute name="display">
        <choice>
          <value>block</value>
          <value>none</value>
        </choice>
      </attribute>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <attribute name="alt"/>
      <optional>
        <choice>
          <attribute name="longdesc"/>
          <ref name="longdesc-element"/>
        </choice>
      </optional>
      <choice>
        <ref name="object"/>
        <ref name="image"/>
        <ref name="audio"/>
        <ref name="video"/>
        <ref name="java-applet"/>
        <ref name="flash"/>
        <ref name="labview"/>
        <ref name="text"/>
        <ref name="download"/>
      </choice>
      <zeroOrMore>
        <choice>
          <ref name="object"/>
          <ref name="image"/>
          <ref name="audio"/>
          <ref name="video"/>
          <ref name="java-applet"/>
          <ref name="flash"/>
          <ref name="labview"/>
          <ref name="text"/>
          <ref name="download"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="nodisplay-media">
    <element name="media">
      <attribute name="display">
        <value>none</value>
      </attribute>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <attribute name="alt"/>
      <optional>
        <choice>
          <attribute name="longdesc"/>
          <ref name="longdesc-element"/>
        </choice>
      </optional>
      <choice>
        <ref name="object"/>
        <ref name="image"/>
        <ref name="audio"/>
        <ref name="video"/>
        <ref name="java-applet"/>
        <ref name="flash"/>
        <ref name="labview"/>
        <ref name="text"/>
        <ref name="download"/>
      </choice>
      <zeroOrMore>
        <choice>
          <ref name="object"/>
          <ref name="image"/>
          <ref name="audio"/>
          <ref name="video"/>
          <ref name="java-applet"/>
          <ref name="flash"/>
          <ref name="labview"/>
          <ref name="text"/>
          <ref name="download"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="longdesc-element">
    <element name="longdesc">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="para"/>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="param">
    <element name="param">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <attribute name="name"/>
      <attribute name="value"/>
    </element>
  </define>
  <!-- @src must be handled per-element -->
  <define name="object">
    <element name="object">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="height"/>
      </optional>
      <optional>
        <attribute name="width"/>
      </optional>
      <attribute name="mime-type"/>
      <optional>
        <attribute name="for">
          <data type="string">
            <param name="pattern">[\w\-]+</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <choice>
          <attribute name="longdesc"/>
          <ref name="longdesc-element"/>
        </choice>
      </optional>
      <zeroOrMore>
        <ref name="param"/>
      </zeroOrMore>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="object"/>
          <ref name="image"/>
          <ref name="audio"/>
          <ref name="video"/>
          <ref name="java-applet"/>
          <ref name="flash"/>
          <ref name="labview"/>
          <ref name="text"/>
          <ref name="download"/>
        </choice>
      </zeroOrMore>
      <attribute name="src"/>
    </element>
  </define>
  <define name="image">
    <element name="image">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="height"/>
      </optional>
      <optional>
        <attribute name="width"/>
      </optional>
      <attribute name="mime-type"/>
      <optional>
        <attribute name="for">
          <data type="string">
            <param name="pattern">[\w\-]+</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <choice>
          <attribute name="longdesc"/>
          <ref name="longdesc-element"/>
        </choice>
      </optional>
      <zeroOrMore>
        <ref name="param"/>
      </zeroOrMore>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="object"/>
          <ref name="image"/>
          <ref name="audio"/>
          <ref name="video"/>
          <ref name="java-applet"/>
          <ref name="flash"/>
          <ref name="labview"/>
          <ref name="text"/>
          <ref name="download"/>
        </choice>
      </zeroOrMore>
      <attribute name="src"/>
      <optional>
        <attribute name="print-width"/>
      </optional>
      <optional>
        <attribute name="thumbnail"/>
      </optional>
    </element>
  </define>
  <define name="audio">
    <element name="audio">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="height"/>
      </optional>
      <optional>
        <attribute name="width"/>
      </optional>
      <attribute name="mime-type"/>
      <optional>
        <attribute name="for">
          <data type="string">
            <param name="pattern">[\w\-]+</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <choice>
          <attribute name="longdesc"/>
          <ref name="longdesc-element"/>
        </choice>
      </optional>
      <zeroOrMore>
        <ref name="param"/>
      </zeroOrMore>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="object"/>
          <ref name="image"/>
          <ref name="audio"/>
          <ref name="video"/>
          <ref name="java-applet"/>
          <ref name="flash"/>
          <ref name="labview"/>
          <ref name="text"/>
          <ref name="download"/>
        </choice>
      </zeroOrMore>
      <attribute name="src"/>
      <optional>
        <attribute name="standby">
          <text/>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="autoplay" a:defaultValue="false">
          <choice>
            <value>true</value>
            <value>false</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="loop" a:defaultValue="false">
          <choice>
            <value>true</value>
            <value>false</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="controller" a:defaultValue="false">
          <choice>
            <value>true</value>
            <value>false</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="volume" a:defaultValue="50">
          <data type="integer">
            <param name="minInclusive">1</param>
            <param name="maxInclusive">100</param>
          </data>
        </attribute>
      </optional>
    </element>
  </define>
  <define name="video">
    <element name="video">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="height"/>
      </optional>
      <optional>
        <attribute name="width"/>
      </optional>
      <attribute name="mime-type"/>
      <optional>
        <attribute name="for">
          <data type="string">
            <param name="pattern">[\w\-]+</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <choice>
          <attribute name="longdesc"/>
          <ref name="longdesc-element"/>
        </choice>
      </optional>
      <zeroOrMore>
        <ref name="param"/>
      </zeroOrMore>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="object"/>
          <ref name="image"/>
          <ref name="audio"/>
          <ref name="video"/>
          <ref name="java-applet"/>
          <ref name="flash"/>
          <ref name="labview"/>
          <ref name="text"/>
          <ref name="download"/>
        </choice>
      </zeroOrMore>
      <attribute name="src"/>
      <optional>
        <attribute name="standby">
          <text/>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="autoplay" a:defaultValue="false">
          <choice>
            <value>true</value>
            <value>false</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="loop" a:defaultValue="false">
          <choice>
            <value>true</value>
            <value>false</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="controller" a:defaultValue="false">
          <choice>
            <value>true</value>
            <value>false</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="volume" a:defaultValue="50">
          <data type="integer">
            <param name="minInclusive">1</param>
            <param name="maxInclusive">100</param>
          </data>
        </attribute>
      </optional>
    </element>
  </define>
  <define name="java-applet">
    <element name="java-applet">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="height"/>
      </optional>
      <optional>
        <attribute name="width"/>
      </optional>
      <attribute name="mime-type"/>
      <optional>
        <attribute name="for">
          <data type="string">
            <param name="pattern">[\w\-]+</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <choice>
          <attribute name="longdesc"/>
          <ref name="longdesc-element"/>
        </choice>
      </optional>
      <zeroOrMore>
        <ref name="param"/>
      </zeroOrMore>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="object"/>
          <ref name="image"/>
          <ref name="audio"/>
          <ref name="video"/>
          <ref name="java-applet"/>
          <ref name="flash"/>
          <ref name="labview"/>
          <ref name="text"/>
          <ref name="download"/>
        </choice>
      </zeroOrMore>
      <optional>
        <attribute name="src"/>
      </optional>
      <optional>
        <attribute name="codebase"/>
      </optional>
      <attribute name="code"/>
      <optional>
        <attribute name="archive"/>
      </optional>
      <optional>
        <attribute name="name"/>
      </optional>
    </element>
  </define>
  <define name="flash">
    <element name="flash">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="height"/>
      </optional>
      <optional>
        <attribute name="width"/>
      </optional>
      <attribute name="mime-type"/>
      <optional>
        <attribute name="for">
          <data type="string">
            <param name="pattern">[\w\-]+</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <choice>
          <attribute name="longdesc"/>
          <ref name="longdesc-element"/>
        </choice>
      </optional>
      <zeroOrMore>
        <ref name="param"/>
      </zeroOrMore>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="object"/>
          <ref name="image"/>
          <ref name="audio"/>
          <ref name="video"/>
          <ref name="java-applet"/>
          <ref name="flash"/>
          <ref name="labview"/>
          <ref name="text"/>
          <ref name="download"/>
        </choice>
      </zeroOrMore>
      <attribute name="src"/>
      <optional>
        <attribute name="wmode">
          <choice>
            <value>window</value>
            <value>opaque</value>
            <value>transparent</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <optional>
          <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="loop" a:defaultValue="false">
            <choice>
              <value>true</value>
              <value>false</value>
            </choice>
          </attribute>
        </optional>
      </optional>
      <optional>
        <attribute name="quality">
          <choice>
            <value>low</value>
            <value>autolow</value>
            <value>autohigh</value>
            <value>medium</value>
            <value>high</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <optional>
          <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="scale" a:defaultValue="default">
            <choice>
              <value>default</value>
              <value>noorder</value>
              <value>exactfit</value>
            </choice>
          </attribute>
        </optional>
      </optional>
      <optional>
        <attribute name="bgcolor">
          <data type="token">
            <param name="pattern">#[a-fA-F0-9]{6}</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="flash-vars">
          <text/>
        </attribute>
      </optional>
    </element>
  </define>
  <define name="labview">
    <element name="labview">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="height"/>
      </optional>
      <optional>
        <attribute name="width"/>
      </optional>
      <attribute name="mime-type"/>
      <optional>
        <attribute name="for">
          <data type="string">
            <param name="pattern">[\w\-]+</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <choice>
          <attribute name="longdesc"/>
          <ref name="longdesc-element"/>
        </choice>
      </optional>
      <zeroOrMore>
        <ref name="param"/>
      </zeroOrMore>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="object"/>
          <ref name="image"/>
          <ref name="audio"/>
          <ref name="video"/>
          <ref name="java-applet"/>
          <ref name="flash"/>
          <ref name="labview"/>
          <ref name="text"/>
          <ref name="download"/>
        </choice>
      </zeroOrMore>
      <attribute name="src"/>
      <attribute name="viname"/>
      <attribute name="version">
        <choice>
          <value>7.0</value>
          <value>8.0</value>
          <value>8.2</value>
        </choice>
      </attribute>
    </element>
  </define>
  <define name="text">
    <element name="text">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="height"/>
      </optional>
      <optional>
        <attribute name="width"/>
      </optional>
      <optional>
        <attribute name="mime-type"/>
      </optional>
      <optional>
        <choice>
          <attribute name="longdesc"/>
          <ref name="longdesc-element"/>
        </choice>
      </optional>
      <zeroOrMore>
        <ref name="param"/>
      </zeroOrMore>
      <optional>
        <attribute name="src"/>
      </optional>
      <optional>
        <attribute name="for">
          <data type="string">
            <param name="pattern">[\w\-]+</param>
          </data>
        </attribute>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="para"/>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="download">
    <element name="download">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="height"/>
      </optional>
      <optional>
        <attribute name="width"/>
      </optional>
      <attribute name="mime-type"/>
      <optional>
        <attribute name="for">
          <data type="string">
            <param name="pattern">[\w\-]+</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <choice>
          <attribute name="longdesc"/>
          <ref name="longdesc-element"/>
        </choice>
      </optional>
      <zeroOrMore>
        <ref name="param"/>
      </zeroOrMore>
      <zeroOrMore>
        <choice>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="object"/>
          <ref name="image"/>
          <ref name="audio"/>
          <ref name="video"/>
          <ref name="java-applet"/>
          <ref name="flash"/>
          <ref name="labview"/>
          <ref name="text"/>
          <ref name="download"/>
        </choice>
      </zeroOrMore>
      <attribute name="src"/>
    </element>
  </define>
  <define name="example">
    <element name="example">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="section"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
          <ref name="para"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="exercise">
    <element name="exercise">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="print-placement">
          <choice>
            <value>here</value>
            <value>end</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute name="type"/>
      </optional>
      <choice>
        <group>
          <optional>
            <ref name="label"/>
          </optional>
          <optional>
            <ref name="title"/>
          </optional>
          <ref name="problem"/>
          <zeroOrMore>
            <ref name="solution"/>
          </zeroOrMore>
          <optional>
            <ref name="commentary"/>
          </optional>
        </group>
        <ref name="qml.item"/>
      </choice>
    </element>
  </define>
  <define name="problem">
    <element name="problem">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="section"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
          <ref name="para"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="solution">
    <element name="solution">
      <optional>
        <attribute name="print-placement">
          <choice>
            <value>here</value>
            <value>end</value>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="section"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
          <ref name="para"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="commentary">
    <element name="commentary">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="para"/>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="definition">
    <element name="definition">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <ref name="term"/>
      <choice>
        <ref name="seealso"/>
        <group>
          <oneOrMore>
            <ref name="meaning"/>
            <zeroOrMore>
              <ref name="example"/>
            </zeroOrMore>
          </oneOrMore>
          <optional>
            <ref name="seealso"/>
          </optional>
        </group>
      </choice>
    </element>
  </define>
  <define name="meaning">
    <element name="meaning">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="para"/>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="seealso">
    <element name="seealso">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="type">
          <choice>
            <value>related-term</value>
            <value>narrower-term</value>
            <value>broader-term</value>
            <value>use-for</value>
            <value>use</value>
            <text/>
          </choice>
        </attribute>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <oneOrMore>
        <ref name="term"/>
      </oneOrMore>
    </element>
  </define>
  <define name="rule">
    <element name="rule">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0" name="type" a:defaultValue="rule">
          <choice>
            <value>rule</value>
            <value>theorem</value>
            <value>lemma</value>
            <value>corollary</value>
            <value>law</value>
            <value>proposition</value>
            <text/>
          </choice>
        </attribute>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <ref name="statement"/>
      </oneOrMore>
      <zeroOrMore>
        <choice>
          <ref name="proof"/>
          <ref name="example"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <define name="statement">
    <element name="statement">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="section"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
          <ref name="para"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="proof">
    <element name="proof">
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="type"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="section"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
          <ref name="para"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <!-- 
    CALS Table Definitions
 -->
  <define name="table">
    <element name="table">
      <optional>
        <attribute name="frame">
          <choice>
            <value>top</value>
            <value>bottom</value>
            <value>topbot</value>
            <value>all</value>
            <value>sides</value>
            <value>none</value>
          </choice>
        </attribute>
      </optional>
      <attribute name="summary"/>
      <optional>
        <attribute name="colsep">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="rowsep">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <attribute name="id">
        <data type="ID"/>
      </attribute>
      <optional>
        <attribute name="tabstyle"/>
      </optional>
      <optional>
        <attribute name="tocentry">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="shortentry">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="orient">
          <choice>
            <value>port</value>
            <value>land</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute name="pgwide">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="type"/>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <ref name="label"/>
      </optional>
      <optional>
        <ref name="title"/>
      </optional>
      <oneOrMore>
        <ref name="tgroup"/>
      </oneOrMore>
      <optional>
        <ref name="caption"/>
      </optional>
    </element>
  </define>
  <define name="tgroup">
    <element name="tgroup">
      <attribute name="cols"/>
      <optional>
        <attribute name="tgroupstyle">
          <text/>
        </attribute>
      </optional>
      <optional>
        <attribute name="colsep">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="rowsep">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="align">
          <choice>
            <value>left</value>
            <value>right</value>
            <value>center</value>
            <value>justify</value>
            <value>char</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute name="char"/>
      </optional>
      <optional>
        <attribute name="charoff"/>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <ref name="colspec"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="spanspec"/>
      </zeroOrMore>
      <optional>
        <ref name="thead"/>
      </optional>
      <optional>
        <ref name="tfoot"/>
      </optional>
      <ref name="tbody"/>
    </element>
  </define>
  <define name="colspec">
    <element name="colspec">
      <optional>
        <attribute name="colnum"/>
      </optional>
      <optional>
        <attribute name="colname"/>
      </optional>
      <optional>
        <attribute name="colwidth"/>
      </optional>
      <optional>
        <attribute name="colsep">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="rowsep">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="align">
          <choice>
            <value>left</value>
            <value>right</value>
            <value>center</value>
            <value>justify</value>
            <value>char</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute name="char"/>
      </optional>
      <optional>
        <attribute name="charoff"/>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
    </element>
  </define>
  <define name="spanspec">
    <element name="spanspec">
      <optional>
        <attribute name="namest"/>
      </optional>
      <optional>
        <attribute name="nameend"/>
      </optional>
      <attribute name="spanname"/>
      <optional>
        <attribute name="colwidth"/>
      </optional>
      <optional>
        <attribute name="colsep">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="rowsep">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="align">
          <choice>
            <value>left</value>
            <value>right</value>
            <value>center</value>
            <value>justify</value>
            <value>char</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute name="char"/>
      </optional>
      <optional>
        <attribute name="charoff"/>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
    </element>
  </define>
  <define name="thead">
    <element name="thead">
      <optional>
        <attribute name="valign">
          <choice>
            <value>top</value>
            <value>middle</value>
            <value>bottom</value>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <ref name="colspec"/>
      </zeroOrMore>
      <oneOrMore>
        <ref name="row"/>
      </oneOrMore>
    </element>
  </define>
  <define name="tfoot">
    <element name="tfoot">
      <optional>
        <attribute name="valign">
          <choice>
            <value>top</value>
            <value>middle</value>
            <value>bottom</value>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <ref name="colspec"/>
      </zeroOrMore>
      <oneOrMore>
        <ref name="row"/>
      </oneOrMore>
    </element>
  </define>
  <define name="tbody">
    <element name="tbody">
      <optional>
        <attribute name="valign">
          <choice>
            <value>top</value>
            <value>middle</value>
            <value>bottom</value>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <oneOrMore>
        <ref name="row"/>
      </oneOrMore>
    </element>
  </define>
  <define name="row">
    <element name="row">
      <optional>
        <attribute name="rowsep">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="valign">
          <choice>
            <value>top</value>
            <value>middle</value>
            <value>bottom</value>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <oneOrMore>
        <choice>
          <ref name="entry"/>
          <ref name="entrytbl"/>
        </choice>
      </oneOrMore>
    </element>
  </define>
  <define name="entrytbl">
    <element name="entrytbl">
      <attribute name="cols"/>
      <optional>
        <attribute name="tgroupstyle">
          <text/>
        </attribute>
      </optional>
      <optional>
        <attribute name="colname"/>
      </optional>
      <optional>
        <attribute name="spanname"/>
      </optional>
      <optional>
        <attribute name="namest"/>
      </optional>
      <optional>
        <attribute name="nameend"/>
      </optional>
      <optional>
        <attribute name="colsep">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="rowsep">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="align">
          <choice>
            <value>left</value>
            <value>right</value>
            <value>center</value>
            <value>justify</value>
            <value>char</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute name="char"/>
      </optional>
      <optional>
        <attribute name="charoff"/>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <ref name="colspec"/>
      </zeroOrMore>
      <zeroOrMore>
        <ref name="spanspec"/>
      </zeroOrMore>
      <optional>
        <ref name="thead"/>
      </optional>
      <ref name="tbody"/>
    </element>
  </define>
  <define name="entry">
    <element name="entry">
      <optional>
        <attribute name="colname"/>
      </optional>
      <optional>
        <attribute name="namest"/>
      </optional>
      <optional>
        <attribute name="nameend"/>
      </optional>
      <optional>
        <attribute name="spanname"/>
      </optional>
      <optional>
        <attribute name="morerows"/>
      </optional>
      <optional>
        <attribute name="colsep">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="rowsep">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="align">
          <choice>
            <value>left</value>
            <value>right</value>
            <value>center</value>
            <value>justify</value>
            <value>char</value>
          </choice>
        </attribute>
      </optional>
      <optional>
        <attribute name="char"/>
      </optional>
      <optional>
        <attribute name="charoff"/>
      </optional>
      <optional>
        <attribute name="rotate">
          <data type="integer">
            <param name="minInclusive">0</param>
          </data>
        </attribute>
      </optional>
      <optional>
        <attribute name="valign">
          <choice>
            <value>top</value>
            <value>middle</value>
            <value>bottom</value>
          </choice>
        </attribute>
      </optional>
      <zeroOrMore>
        <attribute>
          <anyName>
            <except>
              <nsName ns=""/>
              <nsName ns="http://cnx.rice.edu/cnxml"/>
              <name>xml:lang</name>
            </except>
          </anyName>
        </attribute>
      </zeroOrMore>
      <optional>
        <attribute name="class">
          <data type="token"/>
        </attribute>
      </optional>
      <optional>
        <attribute name="xml:lang"/>
      </optional>
      <optional>
        <attribute name="id">
          <data type="ID"/>
        </attribute>
      </optional>
      <zeroOrMore>
        <choice>
          <ref name="para"/>
          <text/>
          <externalRef href="file:///usr/share/xml/mathml/schema/rng/2.0/mathml2.rng"/>
          <ref name="span"/>
          <ref name="term"/>
          <ref name="cite"/>
          <ref name="cite-title"/>
          <ref name="foreign"/>
          <ref name="emphasis"/>
          <ref name="sub"/>
          <ref name="sup"/>
          <ref name="inline-code"/>
          <ref name="inline-preformat"/>
          <ref name="inline-quote"/>
          <ref name="inline-note"/>
          <ref name="bulleted-inline-list"/>
          <ref name="enumerated-inline-list"/>
          <ref name="labeled-item-inline-list"/>
          <ref name="inline-media"/>
          <ref name="footnote"/>
          <ref name="link"/>
          <ref name="newline"/>
          <ref name="space"/>
          <ref name="div"/>
          <ref name="definition"/>
          <ref name="example"/>
          <ref name="figure"/>
          <ref name="block-code"/>
          <ref name="block-preformat"/>
          <ref name="block-quote"/>
          <ref name="block-note"/>
          <ref name="block-media"/>
          <ref name="bulleted-block-list"/>
          <ref name="enumerated-block-list"/>
          <ref name="labeled-item-block-list"/>
          <ref name="table"/>
          <ref name="rule"/>
          <ref name="equation"/>
          <ref name="exercise"/>
        </choice>
      </zeroOrMore>
    </element>
  </define>
  <!--the rest-->
  <!--ending cnxml-defs.rng-->
</grammar>
